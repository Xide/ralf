<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Config` struct in crate `raft`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Config">

    <title>raft::Config - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css"
          id="mainThemeStyle">
    
    <link rel="stylesheet" type="text/css" href="../dark.css">
    <link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle">
    <script src="../storage.js"></script>
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <div class="sidebar-menu">&#9776;</div>
        
        <p class='location'>Struct Config</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#fields">Fields</a><div class="sidebar-links"><a href="#structfield.id">id</a><a href="#structfield.peers">peers</a><a href="#structfield.learners">learners</a><a href="#structfield.election_tick">election_tick</a><a href="#structfield.heartbeat_tick">heartbeat_tick</a><a href="#structfield.applied">applied</a><a href="#structfield.max_size_per_msg">max_size_per_msg</a><a href="#structfield.max_inflight_msgs">max_inflight_msgs</a><a href="#structfield.check_quorum">check_quorum</a><a href="#structfield.pre_vote">pre_vote</a><a href="#structfield.read_only_option">read_only_option</a><a href="#structfield.skip_bcast_commit">skip_bcast_commit</a><a href="#structfield.tag">tag</a></div><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.validate">validate</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Default">Default</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a></div></div><p class='location'><a href='index.html'>raft</a></p><script>window.sidebarCurrent = {name: 'Config', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div>
    </nav>

    <div class="theme-picker">
        <button id="theme-picker" aria-label="Pick another theme!">
            <img src="../brush.svg" width="18" alt="Pick another theme!">
        </button>
        <div id="theme-choices"></div>
    </div>
    <script src="../theme.js"></script>
    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content"><h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>raft</a>::<wbr><a class="struct" href=''>Config</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/raft/raft.rs.html#71-137' title='goto source code'>[src]</a></span></h1><div class="docblock type-decl"><pre class='rust struct'>pub struct Config {
    pub id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    pub peers: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;,
    pub learners: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;,
    pub election_tick: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    pub heartbeat_tick: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    pub applied: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    pub max_size_per_msg: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    pub max_inflight_msgs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    pub check_quorum: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    pub pre_vote: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    pub read_only_option: <a class="enum" href="../raft/enum.ReadOnlyOption.html" title="enum raft::ReadOnlyOption">ReadOnlyOption</a>,
    pub skip_bcast_commit: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    pub tag: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
}</pre></div><div class='docblock'><p>Config contains the parameters to start a raft.</p>
</div><h2 id='fields' class='fields small-section-header'>
                       Fields<a href='#fields' class='anchor'></a></h2><span id="structfield.id" class="structfield small-section-header">
                           <a href="#structfield.id" class="anchor field"></a>
                           <span id="id.v" class='invisible'>
                           <code>id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></code>
                           </span></span><div class='docblock'><p>id is the identity of the local raft. ID cannot be 0.</p>
</div><span id="structfield.peers" class="structfield small-section-header">
                           <a href="#structfield.peers" class="anchor field"></a>
                           <span id="peers.v" class='invisible'>
                           <code>peers: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;</code>
                           </span></span><div class='docblock'><p>peers contains the IDs of all nodes (including self) in
the raft cluster. It should only be set when starting a new
raft cluster.
Restarting raft from previous configuration will panic if
peers is set.
peer is private and only used for testing right now.</p>
</div><span id="structfield.learners" class="structfield small-section-header">
                           <a href="#structfield.learners" class="anchor field"></a>
                           <span id="learners.v" class='invisible'>
                           <code>learners: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;</code>
                           </span></span><div class='docblock'><p>learners contains the IDs of all learner nodes (maybe include self if
the local node is a learner) in the raft cluster.
learners only receives entries from the leader node. It does not vote
or promote itself.</p>
</div><span id="structfield.election_tick" class="structfield small-section-header">
                           <a href="#structfield.election_tick" class="anchor field"></a>
                           <span id="election_tick.v" class='invisible'>
                           <code>election_tick: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code>
                           </span></span><div class='docblock'><p>ElectionTick is the number of node.tick invocations that must pass between
elections. That is, if a follower does not receive any message from the
leader of current term before ElectionTick has elapsed, it will become
candidate and start an election. election_tick must be greater than
HeartbeatTick. We suggest election_tick = 10 * HeartbeatTick to avoid
unnecessary leader switching</p>
</div><span id="structfield.heartbeat_tick" class="structfield small-section-header">
                           <a href="#structfield.heartbeat_tick" class="anchor field"></a>
                           <span id="heartbeat_tick.v" class='invisible'>
                           <code>heartbeat_tick: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code>
                           </span></span><div class='docblock'><p>HeartbeatTick is the number of node.tick invocations that must pass between
heartbeats. That is, a leader sends heartbeat messages to maintain its
leadership every heartbeat ticks.</p>
</div><span id="structfield.applied" class="structfield small-section-header">
                           <a href="#structfield.applied" class="anchor field"></a>
                           <span id="applied.v" class='invisible'>
                           <code>applied: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></code>
                           </span></span><div class='docblock'><p>Applied is the last applied index. It should only be set when restarting
raft. raft will not return entries to the application smaller or equal to Applied.
If Applied is unset when restarting, raft might return previous applied entries.
This is a very application dependent configuration.</p>
</div><span id="structfield.max_size_per_msg" class="structfield small-section-header">
                           <a href="#structfield.max_size_per_msg" class="anchor field"></a>
                           <span id="max_size_per_msg.v" class='invisible'>
                           <code>max_size_per_msg: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></code>
                           </span></span><div class='docblock'><p>MaxSizePerMsg limits the max size of each append message. Smaller value lowers
the raft recovery cost(initial probing and message lost during normal operation).
On the other side, it might affect the throughput during normal replication.
Note: math.MaxUusize64 for unlimited, 0 for at most one entry per message.</p>
</div><span id="structfield.max_inflight_msgs" class="structfield small-section-header">
                           <a href="#structfield.max_inflight_msgs" class="anchor field"></a>
                           <span id="max_inflight_msgs.v" class='invisible'>
                           <code>max_inflight_msgs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code>
                           </span></span><div class='docblock'><p>max_inflight_msgs limits the max number of in-flight append messages during optimistic
replication phase. The application transportation layer usually has its own sending
buffer over TCP/UDP. Setting MaxInflightMsgs to avoid overflowing that sending buffer.
TODO: feedback to application to limit the proposal rate?</p>
</div><span id="structfield.check_quorum" class="structfield small-section-header">
                           <a href="#structfield.check_quorum" class="anchor field"></a>
                           <span id="check_quorum.v" class='invisible'>
                           <code>check_quorum: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code>
                           </span></span><div class='docblock'><p>check_quorum specifies if the leader should check quorum activity. Leader steps down when
quorum is not active for an electionTimeout.</p>
</div><span id="structfield.pre_vote" class="structfield small-section-header">
                           <a href="#structfield.pre_vote" class="anchor field"></a>
                           <span id="pre_vote.v" class='invisible'>
                           <code>pre_vote: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code>
                           </span></span><div class='docblock'><p>pre_vote enables the Pre-Vote algorithm described in raft thesis section
9.6. This prevents disruption when a node that has been partitioned away
rejoins the cluster.</p>
</div><span id="structfield.read_only_option" class="structfield small-section-header">
                           <a href="#structfield.read_only_option" class="anchor field"></a>
                           <span id="read_only_option.v" class='invisible'>
                           <code>read_only_option: <a class="enum" href="../raft/enum.ReadOnlyOption.html" title="enum raft::ReadOnlyOption">ReadOnlyOption</a></code>
                           </span></span><div class='docblock'><p>read_only_option specifies how the read only request is processed.</p>
</div><span id="structfield.skip_bcast_commit" class="structfield small-section-header">
                           <a href="#structfield.skip_bcast_commit" class="anchor field"></a>
                           <span id="skip_bcast_commit.v" class='invisible'>
                           <code>skip_bcast_commit: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code>
                           </span></span><span id="structfield.tag" class="structfield small-section-header">
                           <a href="#structfield.tag" class="anchor field"></a>
                           <span id="tag.v" class='invisible'>
                           <code>tag: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code>
                           </span></span><div class='docblock'><p>tag is only used for logging</p>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="struct" href="../raft/struct.Config.html" title="struct raft::Config">Config</a></code><a href='#impl' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/raft/raft.rs.html#139-165' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.validate' class="method"><span id='validate.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.validate' class='fnname'>validate</a>(&amp;self) -&gt; <a class="type" href="../raft/type.Result.html" title="type raft::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/raft/raft.rs.html#140-164' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4></div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
            <div id='implementations-list'>
        <h3 id='impl-Default' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="../raft/struct.Config.html" title="struct raft::Config">Config</a></code><a href='#impl-Default' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/raft/raft.rs.html#70' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.default' class="method"><span id='default.v' class='invisible'><table class='table-display'><tbody><tr><td><code>fn <a href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default' class='fnname'>default</a>() -&gt; <a class="struct" href="../raft/struct.Config.html" title="struct raft::Config">Config</a></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/raft/raft.rs.html#70' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Returns the &quot;default value&quot; for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></p>
</div></div></div>
                <h2 id='synthetic-implementations' class='small-section-header'>
                  Auto Trait Implementations<a href='#synthetic-implementations' class='anchor'></a>
                </h2>
                <div id='synthetic-implementations-list'>
            <h3 id='impl-Send' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../raft/struct.Config.html" title="struct raft::Config">Config</a></code><a href='#impl-Send' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div><h3 id='impl-Sync' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../raft/struct.Config.html" title="struct raft::Config">Config</a></code><a href='#impl-Sync' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt><kbd>?</kbd></dt>
                    <dd>Show this help dialog</dd>
                    <dt><kbd>S</kbd></dt>
                    <dd>Focus the search field</dd>
                    <dt><kbd>↑</kbd></dt>
                    <dd>Move up in search results</dd>
                    <dt><kbd>↓</kbd></dt>
                    <dd>Move down in search results</dd>
                    <dt><kbd>↹</kbd></dt>
                    <dd>Switch tab</dd>
                    <dt><kbd>&#9166;</kbd></dt>
                    <dd>Go to active search result</dd>
                    <dt><kbd>+</kbd></dt>
                    <dd>Expand all sections</dd>
                    <dt><kbd>-</kbd></dt>
                    <dd>Collapse all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "raft";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>